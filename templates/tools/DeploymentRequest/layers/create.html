{% extends "base.html"%}
{% block content %}
{% load static %}
{% load widget_tweaks %}

<style>
    #request {
      height: 200vh;
    }

    .foot {
        border: none;
    }

</style>


<section id="request" dir="rtl">
    <div class="container divCreate">
        <div class="row panel panel-default text-center">
            <div class="panel-heading">
                <div class="row">
                    <h1 class="h1Create">إنشاء طلب نشر خاص بالطبقات جديد <i class="fa fa-plus"></i></h1>
                    <!-- <button class="btn btn-success pull-right"><i class="fa fa-plus"></i> انشاء طلب جديد</button> -->
                    <!-- <button class="btn btn-primary pull-right" style="margin-right: 5px;"><i class="fa fa-undo"></i> عودة</button> -->
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <form class="container" dir="rtl" method="POST"  enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="form-group create">
                            <div class="col-md-8">
                                <input type="text" class="form-control col-md-4" id="showing"
                                    aria-describedby="id_user_sender" value="{{request.user.Profiles}}" disabled
                                    name="showing">
                                <input type="hidden" name="user_sender" id="id_user_sender"
                                    value="{{request.user.Profiles.id}}">
                                <small id="user_sender" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">لايمكن تغيير إسم الجهه
                                    الطالبه</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate geha">الجهه الطالبة لطلب
                                الدمج</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.date class="form-control" disabled="true" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">لايمكن تغيير تاريخ
                                    الارسال</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate date">تاريخ الارسال</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.layer_link class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">يجب إدخال رابط الطبقة المراد نشرها</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate">برجاء إدخال رابط الطبقة المراد
                                نشرها
                            </label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.layer_name class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">يجب إدخال إسم الطبقه المتاحه فى قواعد البيانات</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate">برجاء إدخال إسم الطبقة المراد
                                نشرها
                            </label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.layer_type class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">برجاء اختيار نوع الطبقه  من حيث
                                    (Point - Line - Polygon)</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate">نوع البيانات بالطبقة </label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.service_type class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">من حيث برجاء اختيار نوع نشر الطبقة سواء كانت ( WMS OR WFS OR ALL) </small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate">نوع البيانات بالطبقة </label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.publish_type class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">في حالة اختيار لجميع الجهات تظهر هذه الطبقه لكل الجهات على
                                    المنصه</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate">نشر الطبقة
                            </label>
                        </div>

                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.image class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">برجاء ارفاق صورة لشكل الطبقة للتوضيح</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Create file">ارفاق صورة لشكل
                                الطبقة</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.layer_description class="form-control" placeholder=" برجاء كتابة وصف عام لهذه الطبقة التى يتم ارسالها لعمل نشر لها" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">توصيف عام
                                للطبقة</label>
                        </div>
                        <!-- META DATA ----------------------------------------------------------------------- -->
                        <div class="col-md-12 ">
                            <hr />
                            <h2 class=" text-center">(Meta Data) </h2>
                            <p class="text-danger text-center">برجاء إدخال جميع البيانات الخاصة بتوصيف البيانات حتى
                                تتمكن من إرسال طلب نشر بنجاح</p>
                            <h3>البيانات الهندسية</h3>
                        </div>
                        <!-- handsa Data -->
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.file_type class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">نوع الملف</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.entry_proj class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">النظام المرجعى
                                للإحداثيات</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                <select id="select" class="form-control" style="width:100%" >
                                    <option value="0">---- اختر ---- </option>
                                    <option value="1">صورة </option>
                                    <option value="2">حقلي</option>

                                </select>
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">برجاء اختيار نوع المصدر
                            </label>
                        </div>

                        <!-- masdr al beanat al hndsea  (img-box)-->
                        <div id="img-box">
                            <div class="form-group create">
                                <div class="col-md-8">
                                    {% render_field form.source_img_date class="form-control" type="datetime-local"%}
                                    <small id="emailHelp" class="form-text text-danger pull-left"
                                        style="font-size: 10px;">هذا الحقل مطلوب</small>
                                </div>
                                <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">تاريخ انشاء
                                    البيانات الهندسية</label>
                            </div>
                            <div class="form-group create">
                                <div class="col-md-8">
                                    {% render_field form.source_img class="form-control" %}
                                    <small id="emailHelp" class="form-text text-danger pull-left"
                                        style="font-size: 10px;">هذا الحقل مطلوب</small>
                                </div>
                                <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">مصدر الصورة</label>
                            </div>
                            <div class="form-group create">
                                <div class="col-md-8">
                                    {% render_field form.img_date class="form-control" type="datetime-local" %}
                                    <small id="emailHelp" class="form-text text-danger pull-left"
                                        style="font-size: 10px;">هذا الحقل مطلوب</small>
                                </div>
                                <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">تاريخ
                                    الصورة</label>
                            </div>
                        </div>

                        <!-- masdr al beanat al hndsea  (medanay-box)-->

                        <div id="medany-box">
                            <div class="form-group create">
                                <div class="col-md-8">
                                    {% render_field form.medany_date class="form-control" type="datetime-local"%}
                                    <small id="emailHelp" class="form-text text-danger pull-left"
                                        style="font-size: 10px;">هذا الحقل مطلوب</small>
                                </div>
                                <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">تاريخ الرفع
                                    الميدانى </label>
                            </div>
                            <div class="form-group create">
                                <div class="col-md-8">
                                    {% render_field form.medany_name class="form-control" %}
                                    <small id="emailHelp" class="form-text text-danger pull-left"
                                        style="font-size: 10px;">هذا الحقل مطلوب</small>
                                </div>
                                <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">أسم الجهة القائمة
                                    بالرفع الميدانى</label>
                            </div>
                        </div>

                        <div class="col-md-12 ">
                            <h3>بيانات المسؤول عن إدخال البيانات الهندسية</h3>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.db_entry_name class="form-control" required=true %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">إسم المسؤول عن تحميل
                                الملف</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.db_entry_id class="form-control" pattern="[14].*" minlength="14" maxlength="14" type="number"%}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">الرقم القومى</label>
                        </div>
                        <!-- Meta Data for beanat wasfea  -->
                        <div class="col-md-12 ">
                            <h3>البيانات الوصفية</h3>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.wasf_source class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">مصدر البيانات الوصفية</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.wasf_address class="form-control" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">عنوان البيانات الوصفية</label>
                        </div>
                        <div class="form-group create">
                            <div class="col-md-8">
                                {% render_field form.wasf_date class="form-control" type="datetime-local" %}
                                <small id="emailHelp" class="form-text text-danger pull-left"
                                    style="font-size: 10px;">هذا الحقل مطلوب</small>
                            </div>
                            <label for="exampleInputEmail1 " class="col-md-4 labelCreate Creat2">تاريخ التعامل مع البيانات الوصفية </label>
                        </div>

                    
                        <div class="col-md-12 " style="margin-top: 2%">
                            <button class="btn deletFormm pull-left  " style="margin-right: 4px"
                                onclick="window.open('{% url 'deploymentRequestLayer' %}','_self')">إلغاء <i
                                    class="fa fa-undo "></i></button>
                            <button type="submit" class="btn addFormm pull-left" style="margin-right: 9px;">
                                إنشاء <i class="fa fa-plus"></i></button>

                        </div>
                    </form>
                    {% if form.errors %}
                    <div class="alert alert-danger">
                        {{ form.errors }}
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>


</section>

<script>
    // script for dropdown for masdr al benat al hndsea

    var sora = $('#img-box');
    var medany = $('#medany-box');

    sora.hide();
    medany.hide();

    $(document).ready(function () {
        $("#select").change(function () {
            var value = $(this).children("option:selected").val();
            if (value == 1) {
                sora.show();
                medany.hide();
            }
            else if (value == 2) {
                medany.show();
                sora.hide();
            }
            else if (value == 0) {
                medany.hide();
                sora.hide();
            }
        });

        // script  for file type drop down ....
        var input = $('#file_type');
        $("#filetype").change(function () {
            var valueu = $(this).children("option:selected").val();

            var x = input.val(valueu)

            x = valueu;
            input.attr("placeholder", x);

        });
        input.hide();



        ///// script for projection type drop menu .....
        var input2 = $('#db_entry_proj');
        $("#projsys").change(function () {
            var vall = $(this).children("option:selected").val();

            var x = input2.val(vall)

            x = vall;
            input2.attr("placeholder", x);

        });
        input2.hide();










    });
</script>

{% endblock %}